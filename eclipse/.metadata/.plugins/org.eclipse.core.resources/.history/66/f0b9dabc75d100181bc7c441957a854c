package net.theexceptionist.coherentvillages.entity.ai;

import net.minecraft.entity.IRangedAttackMob;
import net.minecraft.entity.ai.EntityAIBase;
import net.minecraft.entity.ai.RandomPositionGenerator;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.Vec3d;
import net.theexceptionist.coherentvillages.main.entity.EntityHumanVillager;

public class EntityAIBlock extends EntityAIBase
{
	protected EntityHumanVillager host;
	protected double distance;
	
	public EntityAIBlock(EntityHumanVillager host, final double distance)
	{
		this.host = host;
		this.distance = distance;
		this.setMutexBits(3);
	}
	
	@Override
	public boolean shouldExecute() {
		//System.out.println("Trying to execute: "+host.inCombat());
		if(host.inCombat() /*&& host.getHostileEntity().getDistance(host) > distance*/)
		{
			return true;
		}
		else
		{
			return false;
		}
	}
	
	public void startExecuting()
    {
        host.setBlocking(true);
    }
	
	public void resetTask()
    {
        super.resetTask();
        ((IRangedAttackMob)this.host).setSwingingArms(false);
    }

}
